
<!DOCTYPE html>

<head xmlns="http://www.w3.org/1999/html" >

    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" href="pagina.css"/>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/css/bootstrap.min.css">

    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.6.2/jquery.min.js"> </script>

</head>
<body>
<div>
    <h1 class="Title">Proyecto 1 | Sistemas Operativos</h1>

</div>
<hr/>
<div class="Notificacion">

    <div class="col-md-12">

        <div style="text-align:center; color: darkslateblue;">
            <button type="button" class="col-md-12" id="btn_notificar" role="button">Notificaciones</button>
        </div>

    </div>
<script>
    /* Script de Notificaciones
    * -Arreglar la funcion para saber si los datos se actualizaron*/
    if(Notification.permission!=="granted") {
        Notification.requestPermission();
    }
    document.getElementById("btn_notificar").addEventListener("click", onNotificationButtonClick);
    function onNotificationButtonClick() {
    if (!isNotificationSupported()) {
    logg("Tu navegador no soporta Notificaciones");
    return;
    }

    var notificacion = new Notification("Nueva Actualizaci贸n", {
    body: 'Datos de Juegos Actualizados'
    });

    // Redireccionamos a un determinado Destino o URL al hacer click en la Notificaci贸n
    notificacion.onclick = function() {
        //Agregar actualizaci贸n de datos
    };
    }

    function requestPermissions() {

    }
    function isNotificationSupported() {
    return ("Notification" in window);
    }

    // Es solo para mostrar el Mensaje de la Notificaci贸n
    function logg(mensaje) {
    notificador.innerHTML += "<p>"+mensaje+"</p>";
    }
    </script>

</div>

<div>
    <p>Lista de Juegos <br/></p>

</div>

<!-- Script para extraer los datos del Json -->
    <script>
        $(function() {

            $.getJSON('games.json', function(data) {
                $.each(data.games, function(i, f) {
                    $("#title"+i).text(f.title);
                    var img = "<img src="+f.imgURL+" width=\"250\" height=\"250\" >"
                    $(img).appendTo("#imgURL"+i+" img");
                    $("#orgPrice"+i).text(f.orgPrice);
                    $("#newPrice"+i).text(f.newPrice);
                    $("#hasDiscount"+i).text(f.hasDiscount);
                    $("#discount"+i).text(f.discount);
                    $("#timeToBeat"+i).text(f.timeToBeat);
                    $("#store"+i).text(f.store);
                });
            });
        });
    </script>
<!-- Ejemplos falta implementar que se creen los cardview para todos-->
<div class="row">
    <div class="column">
        <div class="card">
            <h3 id="title0"></h3>
            <p id="orgPrice0"></p>
            <p id="newPrice0"></p>
            <p id="hasDiscount0"></p>
            <p id="discount0"></p>
            <p id="timeToBeat0"></p>
            <p id="store0"></p>
        </div>
    </div>
    <div class="column">
        <div class="card">
            <h3 id="title1"></h3>
            <p id="orgPrice1"></p>
            <p id="newPrice1"></p>
            <p id="hasDiscount1"></p>
            <p id="discount1"></p>
            <p id="timeToBeat1"></p>
            <p id="store1"></p>
        </div>
    </div>
</div>

</body>
</html>